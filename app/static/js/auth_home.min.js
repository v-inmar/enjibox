$((()=>{homePopulateAnchors(),homeGetSummary()}));const homePopulateAnchors=()=>{const e=new Date,t=$(".home-summary-link-today").attr("href"),a=e.toISOString().split("T")[0];$(".home-summary-link-today").attr("href",t+"?label=&date_from="+a+"&date_to="+a+"&category=&form=&page=1"),epochWeekBegin=(new Date).setDate(e.getDate()-e.getDay()),epochWeekEnd=(new Date).setDate(e.getDate()+(6-e.getDay()));const o=new Date(epochWeekBegin).toISOString().split("T")[0],m=new Date(epochWeekEnd).toISOString().split("T")[0];$(".home-summary-link-this-week").attr("href",t+"?label=&date_from="+o+"&date_to="+m+"&category=&form=&page=1");const r=new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],n=new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0];$(".home-summary-link-this-month").attr("href",t+"?label=&date_from="+r+"&date_to="+n+"&category=&form=&page=1");const s=new Date(e.getFullYear(),0,1).toISOString().split("T")[0],h=new Date(e.getFullYear(),11,31).toISOString().split("T")[0];$(".home-summary-link-this-year").attr("href",t+"?label=&date_from="+s+"&date_to="+h+"&category=&form=&page=1")},homeGetSummary=()=>{const e=$(".home-container").data("csrf");var t=$(".home-container").data("url");const a=new Date;var o=a.getMonth()+1,m=a.getDate();String(o).length<2&&(o="0"+String(o)),String(m).length<2&&(m="0"+String(m)),t+="?year="+a.getFullYear()+"&month="+o+"&day="+m,utilityAjaxGet(token=e,t,contentType="application/json",successCallback=homeGetSummarySuccessCallback,errorCallback=homeGetSummaryErrorCallback)},homeGetSummarySuccessCallback=e=>{let t=e.payload,a=t.currency,o=t.amount;homeGetMakePage(o.today,a,"today"),homeGetMakePage(o.this_week,a,"this-week"),homeGetMakePage(o.this_month,a,"this-month"),homeGetMakePage(o.this_year,a,"this-year"),$(".home-loading").css("display","none"),$(".home-main").css("display","block"),utilityMakeHeightTheSame(".home-summary-category-li"),utilityMakeHeightTheSame(".home-summary-form-li")},homeGetSummaryErrorCallback=(e,t,a)=>{console.log(e)},homeGetMakePage=(e,t,a)=>{$(".home-summary-amount-"+a).text(`${t}${e.total}`),$(".home-summary-items-"+a).text(`${e.items} item(s)`);let o=e.category,m=o.highest_total,r=o.most_used;homeGetSummaryMakeCategoryAndForm(m,".home-summary-category-"+a+"-highest-total",t),homeGetSummaryMakeCategoryAndForm(r,".home-summary-category-"+a+"-most-used",!1);let n=e.form,s=n.highest_total,h=n.most_used;homeGetSummaryMakeCategoryAndForm(s,".home-summary-form-"+a+"-highest-total",t),homeGetSummaryMakeCategoryAndForm(h,".home-summary-form-"+a+"-most-used",!1)},homeGetSummaryMakeCategoryAndForm=(e,t,a)=>{if(e.length>0)for(let o=0;o<e.length;o++)a?$(t).append(`\n                    <div class="home-li-div">\n                        <span>${e[o][0]}</span>\n                        \n                        <span>${a}${e[o][1]}</span>\n                    </div>\n                    `):$(t).append(`\n                    <div class="home-li-div">\n                        <span>${e[o][0]}</span>\n                        \n                        <span>Used ${e[o][1]} time(s)</span>\n                    </div>\n                    `);else $(t).append('\n            <div class="home-li-div-no-item">\n                <span>No Items</span>\n            </div>\n            ')};